(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}})();document.addEventListener("DOMContentLoaded",()=>{I(),B(),F(),S(),L(),g()});function I(){window.addEventListener("scroll",g)}function g(){const e=document.body.scrollTop||document.documentElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight,o=e/t*100;document.getElementById("progressBar").style.width=o+"%"}function S(){document.querySelectorAll(".preco-input").forEach(e=>{e.addEventListener("input",q)})}function q(e){let t=e.target.value.replace(/\D/g,"");if(t===""){e.target.value="";return}t=parseInt(t,10),t=(t/100).toFixed(2),t=t.replace(".",","),t="R$ "+t.replace(/\B(?=(\d{3})+(?!\d))/g,"."),e.target.value=t}function F(){const e=document.getElementById("agendamentoMesmoDia"),t=e==null?void 0:e.parentElement.querySelector(".toggle-label");e&&t&&e.addEventListener("change",()=>{t.textContent=e.checked?"Sim":"Não"})}function L(){document.querySelectorAll(".check-outro").forEach(o=>{o.addEventListener("change",a=>{const r=a.target.dataset.target,c=document.getElementById(r);if(c)if(c.style.display=a.target.checked?"block":"none",a.target.checked){const i=c.querySelector("input");i&&i.focus()}else{const i=c.querySelector("input");i&&(i.value="")}})});const t=document.getElementById("antecedenciaMinima");t&&t.addEventListener("change",o=>{const a=document.getElementById("antecedenciaMinimaOutro");if(a)if(o.target.value==="outro"){a.style.display="block";const r=a.querySelector("input");r&&r.focus()}else{a.style.display="none";const r=a.querySelector("input");r&&(r.value="")}})}function B(){const e=document.getElementById("briefingForm");e.addEventListener("submit",async o=>{if(o.preventDefault(),!O())return;const a=e.querySelector(".btn-submit"),r=a.querySelector(".btn-text"),c=a.querySelector(".btn-loader");r.style.display="none",c.style.display="block",a.disabled=!0;const i=A();try{if((await fetch("/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok)b(),e.reset(),document.querySelectorAll(".input-outro, .conditional-field").forEach(f=>f.style.display="none");else throw new Error("Falha no envio")}catch(l){console.error("Erro:",l),x()}finally{r.style.display="block",c.style.display="none",a.disabled=!1}}),e.querySelectorAll("input[required], textarea[required]").forEach(o=>{o.addEventListener("blur",()=>v(o)),o.addEventListener("input",()=>{o.value.trim()&&E(o)})})}function O(){let e=!0,t=null;document.getElementById("briefingForm").querySelectorAll("input[required], textarea[required]").forEach(c=>{v(c)||(e=!1,t||(t=c))});const r=document.querySelectorAll(".servico-item");if(r.length===0)y("servicosError","Adicione pelo menos 1 serviço"),e=!1,t||(t=document.getElementById("servicosContainer"));else{const c=r[0].querySelector('input[name*="[nome]"]');c.value.trim()||(y("servicosError","Preencha o nome do serviço"),e=!1,t||(t=c))}return t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.focus&&t.focus()),e}function v(e){const t=e.value.trim();return e.parentElement.querySelector(".error-message"),t?(E(e),!0):(C(e,"Este campo é obrigatório"),!1)}function C(e,t){const o=e.parentElement.querySelector(".error-message");o&&(o.textContent=t,o.classList.add("show")),e.style.borderColor="var(--color-error)"}function E(e){const t=e.parentElement.querySelector(".error-message");t&&t.classList.remove("show"),e.style.borderColor=""}function y(e,t){const o=document.getElementById(e);o&&(o.textContent=t,o.classList.add("show"))}function A(){var c;const e=document.getElementById("briefingForm"),t=new FormData(e),o={};if(["nomeNegocio","tempoAtuacao","localizacao","horarioFuncionamento","estrutura","clientesSemana","pacotesPromocoes","taxaDeslocamento","taxaDeslocamentoDescricao","comoFuncionaAgendamento","agendamentoMesmoDia","antecedenciaMinima","horariosProcurados","prazoRemarcar","politicaCancelamento","frequenciaRetorno","duvidasFrequentes1","duvidasFrequentes2","duvidasFrequentes3","programaFidelidade","diferenciais","produtosTecnicas","posicionamento","estiloCliente","tomAtendimento","usaEmojis","frasesBordoes","restricoesAgente","alergiasInfo","instagram","linkPortfolio","localizacaoMaps","infoAdicionais"].forEach(i=>{const l=t.get(i);l!==null&&(o[i]=l)}),o.antecedenciaMinima==="outro"){const i=t.get("antecedenciaMinimaOutroInput");i&&i.trim()&&(o.antecedenciaMinima=`Outro: ${i}`)}return[{name:"formasPagamento",otherInput:"formasPagamentoOutroInput"},{name:"finaisSemana"},{name:"faixaEtaria"},{name:"perfilClientes",otherInput:"perfilClientesOutroInput"},{name:"objecoes",otherInput:"objecoesOutroInput"},{name:"especialidade",otherInput:"especialidadeOutroInput"},{name:"capacidadesIA",otherInput:"capacidadesIAOutroInput"},{name:"transferirHumano",otherInput:"transferirHumanoOutroInput"}].forEach(i=>{let l=t.getAll(i.name);if(i.otherInput&&l.some(u=>u==="outros"||u==="outro")){const u=t.get(i.otherInput);u&&u.trim()&&(l=l.filter(h=>h!=="outros"&&h!=="outro"),l.push(`Outro: ${u}`))}o[i.name]=l}),o.servicos=[],document.querySelectorAll(".servico-item").forEach((i,l)=>{var s,n,d;const f=((s=i.querySelector('input[name*="[nome]"]'))==null?void 0:s.value)||"",u=((n=i.querySelector('input[name*="[preco]"]'))==null?void 0:n.value)||"",h=((d=i.querySelector('input[name*="[duracao]"]'))==null?void 0:d.value)||"";f.trim()&&o.servicos.push({nome:f,preco:u,duracao:h})}),o.duvidasFrequentes=[o.duvidasFrequentes1,o.duvidasFrequentes2,o.duvidasFrequentes3].filter(i=>i&&i.trim()),delete o.duvidasFrequentes1,delete o.duvidasFrequentes2,delete o.duvidasFrequentes3,o.agendamentoMesmoDia=((c=document.getElementById("agendamentoMesmoDia"))==null?void 0:c.checked)||!1,o}function b(){document.getElementById("successModal").classList.add("show"),document.body.style.overflow="hidden"}function w(){document.getElementById("successModal").classList.remove("show"),document.body.style.overflow="",window.scrollTo({top:0,behavior:"smooth"})}function x(){document.getElementById("errorModal").classList.add("show"),document.body.style.overflow="hidden"}function M(){document.getElementById("errorModal").classList.remove("show"),document.body.style.overflow=""}document.addEventListener("click",e=>{e.target.classList.contains("modal-overlay")&&(document.getElementById("successModal").classList.contains("show")&&w(),document.getElementById("errorModal").classList.contains("show")&&M())});document.addEventListener("keydown",e=>{e.key==="Escape"&&(document.getElementById("successModal").classList.contains("show")&&w(),document.getElementById("errorModal").classList.contains("show")&&M())});(function(){const t="strong";let o=[],a=null,r=null;function c(s,n){const d=-35+Math.random()*10;return{x:Math.random()*s*1.5-s*.25,y:Math.random()*n*1.5-n*.25,width:30+Math.random()*60,length:n*2.5,angle:d,speed:.6+Math.random()*1.2,opacity:.12+Math.random()*.16,hue:190+Math.random()*70,pulse:Math.random()*Math.PI*2,pulseSpeed:.02+Math.random()*.03}}function i(s,n,d){if(!a)return s;const m=n%3,p=a.width/3;return s.y=a.height+100,s.x=m*p+p/2+(Math.random()-.5)*p*.5,s.width=100+Math.random()*100,s.speed=.5+Math.random()*.4,s.hue=190+n*70/d,s.opacity=.2+Math.random()*.1,s}function l(s,n){s.save(),s.translate(n.x,n.y),s.rotate(n.angle*Math.PI/180);const d=n.opacity*(.8+Math.sin(n.pulse)*.2)*opacityMap[t],m=s.createLinearGradient(0,0,0,n.length);m.addColorStop(0,`hsla(${n.hue}, 85%, 65%, 0)`),m.addColorStop(.1,`hsla(${n.hue}, 85%, 65%, ${d*.5})`),m.addColorStop(.4,`hsla(${n.hue}, 85%, 65%, ${d})`),m.addColorStop(.6,`hsla(${n.hue}, 85%, 65%, ${d})`),m.addColorStop(.9,`hsla(${n.hue}, 85%, 65%, ${d*.5})`),m.addColorStop(1,`hsla(${n.hue}, 85%, 65%, 0)`),s.fillStyle=m,s.fillRect(-n.width/2,0,n.width,n.length),s.restore()}function f(){if(!a||!r)return;r.clearRect(0,0,a.width,a.height),r.filter="blur(35px)";const s=o.length;o.forEach((n,d)=>{n.y-=n.speed,n.pulse+=n.pulseSpeed,n.y+n.length<-100&&i(n,d,s),l(r,n)}),requestAnimationFrame(f)}function u(){if(!a)return;const s=window.devicePixelRatio||1;a.width=window.innerWidth*s,a.height=window.innerHeight*s,a.style.width=`${window.innerWidth}px`,a.style.height=`${window.innerHeight}px`,r.resetTransform(),r.scale(s,s);const n=20*1.5;o.length===0&&(o=Array.from({length:n},()=>c(a.width/s,a.height/s)))}function h(){const s=document.createElement("div");s.className="beams-bg-container",a=document.createElement("canvas"),a.className="beams-canvas";const n=document.createElement("div");n.className="beams-overlay",s.appendChild(a),s.appendChild(n),document.body.prepend(s),r=a.getContext("2d"),u(),window.addEventListener("resize",u),f()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",h):h()})();
